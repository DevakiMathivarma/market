{% extends "core/base.html" %}

{% block content %}

<style>
.container{
  max-width:1200px;margin:40px auto;padding:50px;
border-radius:14px;
  box-shadow:0 8px 20px rgba(0,0,0,0.08);
  animation:fadeIn 0.8s ease forwards;
}

@keyframes fadeIn{
  0%{opacity:0;transform:translateY(10px);}
  100%{opacity:1;transform:translateY(0);}
}

.parent-banner{
  width:100%;max-height:340px;object-fit:cover;
  border-radius:12px;margin:20px 0;
  box-shadow:0 10px 30px rgba(0,0,0,0.1);
  transition:0.4s ease;
}
.parent-banner:hover{
  transform:scale(1.02) translateY(-5px);
}

.subcategory-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1.3fr));
  gap:50px;margin-top:20px;
}

.subcategory-card{
  background:#ffffff;padding:12px;border-radius:12px;
  box-shadow:0 5px 18px rgba(0,0,0,0.06);
  text-align:center;cursor:pointer;
  transition:0.35s ease;position:relative;
  animation:cardUp 0.6s ease forwards;
  transform:translateY(10px);opacity:0;
}
.subcategory-card:nth-child(1){animation-delay:0.1s;}
.subcategory-card:nth-child(2){animation-delay:0.2s;}
.subcategory-card:nth-child(3){animation-delay:0.3s;}
.subcategory-card:nth-child(4){animation-delay:0.4s;}
.subcategory-card:nth-child(5){animation-delay:0.5s;}
.subcategory-card:nth-child(6){animation-delay:0.6s;}

@keyframes cardUp{
  to{transform:translateY(0);opacity:1;}
}

.subcategory-card:hover{
  transform:translateY(-10px) scale(1.03);
  box-shadow:0 15px 40px rgba(0,0,0,0.12);
}

.subcategory-card img{
  width:100%;height:190px;object-fit:cover;
  border-radius:10px;transition:0.4s ease;
}
.subcategory-card:hover img{
  transform:scale(1.08);
}

.subcategory-card h3{
  font-size:1.1rem;margin:12px 0;color:#333;
  font-weight:600;
}
</style>

<div class="container">
  <h1>{{ parent.name }}</h1>

  {% if parent.image %}
    <img src="{{ parent.image.url }}" alt="{{ parent.name }}" class="parent-banner" />
  {% endif %}

  <div class="subcategory-grid">
    {% for subcat in subcategories %}
      <div class="subcategory-card">
        <a href="{% url 'category_products' subcat.slug %}">
          {% if subcat.image %}
            <img src="{{ subcat.image.url }}" alt="{{ subcat.name }}" />
          {% endif %}
          <h3>{{ subcat.name }}</h3>
        </a>
      </div>
    {% empty %}
      <p>No subcategories found.</p>
    {% endfor %}
  </div>
</div>

{% endblock %}
